# 😕：“虚拟 DOM 是如何优化性能的？”

**虚拟 DOM**（Virtual DOM）是 React 的核心概念之一，它通过在内存中维护一个轻量级的 DOM 树表示来提升性能。以下是具体的优化机制：

<br>

## 1、最小化真实 DOM 操作
- 真实 DOM 的操作（如增删节点、修改属性）代价昂贵，因为浏览器需要重新计算布局（Reflow）和重绘（Repaint）。
- 虚拟 DOM 在内存中构建 DOM 树，通过对比新旧虚拟 DOM 树（称为 **Diffing**）计算出最小的变更（Patch），再一次性更新到真实 DOM，减少了不必要的操作。

<br>

## 2、批量更新
- React 在事件循环结束时合并多个状态更新，生成一个新的虚拟 DOM 树，然后计算差异，一次性更新真实 DOM，而非每次状态变更都直接更新。

<br>

## 3、跨平台支持
- 虚拟 DOM 是一个与平台无关的抽象层，它不仅可以映射到浏览器 DOM，还可以映射到其他环境（如 React Native 的原生组件）。

<br>

## 4、提升开发效率
- 开发者以声明式的方式描述 UI（即 **状态驱动视图**），React 自动处理高效的更新逻辑，避免了手动管理复杂的 DOM 操作。